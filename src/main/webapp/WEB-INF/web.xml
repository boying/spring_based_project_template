<?xml version="1.0" encoding="UTF-8"?>
<web-app version="2.5"
         xmlns="http://java.sun.com/xml/ns/javaee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd ">

    <display-name>template-spring_project_template_02</display-name>
    <description>spring template</description>

    <context-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>
            classpath:applicationContext.xml
        </param-value>
    </context-param>

    <listener>
        <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
    </listener>

    <servlet>
        <servlet-name>springmvc</servlet-name>
        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
        <init-param>
            <param-name>contextConfigLocation</param-name>
            <param-value>classpath:springmvc-servlet.xml</param-value>
        </init-param>
        <load-on-startup>1</load-on-startup>
    </servlet>

    <servlet-mapping>
        <servlet-name>springmvc</servlet-name>
        <url-pattern>/</url-pattern>
    </servlet-mapping>

    <!-- 配置过滤器 -->
    <filter>
        <filter-name>encodingFilter</filter-name>
        <filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class>
        <init-param>
            <param-name>encoding</param-name>
            <param-value>UTF-8</param-value>
        </init-param>
    </filter>
    <filter-mapping>
        <filter-name>encodingFilter</filter-name>
        <url-pattern>/*</url-pattern>
    </filter-mapping>

    <filter>
        <filter-name>userLoginFilter</filter-name>
        <filter-class>org.springframework.web.filter.DelegatingFilterProxy</filter-class>
    </filter>
    <filter-mapping>
        <filter-name>userLoginFilter</filter-name>
        <url-pattern>/*</url-pattern>
    </filter-mapping>


    <!--
     interceptorlter>
         interceptorlter-name>userContextFiltinterceptorlter-name>
         interceptorlter-class>org.springframework.interceptorlter.DelegatingFilterProinterceptorlter-class>
      interceptorlter>

     interceptorlter>
         interceptorlter-name>interceptorltinterceptorlter-name>
         interceptorlter-class>com.dianping.cat.servlet.CatFiltinterceptorlter-class>
            <init-param>
                <param-name>pattern</param-name>
                <param-value>
                    /{2}/{3}/{4}/{5}/{6}/{0,number}/{7}/{1,number}/{8}:??#id#,#num#;
                    /{2}/{3}/{4}/{0,number}/{5}/{1,number}/{6}/{7}:??#id#,#num#;
                    /{2}/{3}/{4}/{0,number}/{5}/{6}/{1,number}:??#id#,#num#;
                    /{1}/{2}/{3}/{4}/{5}/{0,number}/{6}/{7}:??#id#;
                    /{1}/{2}/{3}/{4}/{5}/{0,number}/{6}:??#id#;
                    /{1}/{2}/{3}/{4}/{5}/{0,number}:??#id#;
                    /{1}/{2}/{3}/{4}/{0,number}/{5}/{6}:??#id#;
                    /{1}/{2}/{3}/{4}/{0,number}/{5}:??#id#;
                    /{1}/{2}/{3}/{4}/{0,number}:??#id#;
                    /{1}/{2}/{3}/{0,number}/{4}/{5}:??#id#;
                    /{1}/{2}/{3}/{0,number}/{4}:??#id#;
                    /{1}/{2}/{3}/{0,number}:??#id#;
                </param-value>
            </init-param>
      interceptorlter>


     interceptorlter-mapping>
         interceptorlter-name>interceptorltinterceptorlter-name>
            <url-pattern>/*</url-pattern>
            <dispatcher>REQUEST</dispatcher>
            <dispatcher>FORWARD</dispatcher>
      interceptorlter-mapping>

     interceptorlter-mapping>
         interceptorlter-name>userContextFiltinterceptorlter-name>
            <url-pattern>/*</url-pattern>
      interceptorlter-mapping>

        <servlet>
            <servlet-name>rest</servlet-name>
            <servlet-class>com.sun.jersey.spi.spring.container.servlet.SpringServlet</servlet-class>
            <init-param>
                <param-name>com.sun.jersey.config.property.resourceConfigClass</param-name>
                <param-value>com.sun.jersey.api.core.PackagesResourceConfig</param-value>
            </init-param>

            <init-param>
                <param-name>com.sun.jersey.config.property.packages</param-name>
                <param-value>com.lufax.secmkt;com.lufax.mq.client</param-value>
            </init-param>

            <init-param>
                <param-name>com.sun.jersey.api.json.POJOMappingFeature</param-name>
                <param-value>true</param-value>
            </init-param>

            <init-param>
                <param-name>com.sun.jersey.spi.container.ContainerResponseFilters</param-name>
                <param-value>com.lufax.secmkt.interceptorlter.HeadMethodContainerResponseFilter</param-value>
            </init-param>
            <load-on-startup>1</load-on-startup>
        </servlet>

        <servlet>
            <servlet-name>admin-internals</servlet-name>
            <servlet-class>com.sun.jersey.spi.spring.container.servlet.SpringServlet</servlet-class>
            <init-param>
                <param-name>com.sun.jersey.config.property.resourceConfigClass</param-name>
                <param-value>com.sun.jersey.api.core.PackagesResourceConfig</param-value>
            </init-param>
            <init-param>
                <param-name>com.sun.jersey.config.property.packages</param-name>
                <param-value>com.lufax.kernel.admin</param-value>
            </init-param>
            <load-on-startup>1</load-on-startup>
        </servlet>


        <welcome-file-list>
            <welcome-file>html/index.html</welcome-file>
        </welcome-file-list>
        -->
</web-app>